[gd_scene load_steps=20 format=3 uid="uid://dr5kxssl071ba"]

[ext_resource type="Script" path="res://player/Player.cs" id="1_4wwkc"]
[ext_resource type="SpriteFrames" uid="uid://vdxng17jev72" path="res://player/player_1.tres" id="1_nhrqf"]
[ext_resource type="Script" path="res://player/poutre.cs" id="7_huw4r"]

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_4vles"]
length = 8.0
slide_on_slope = true

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_7fufo"]
length = 8.0
slide_on_slope = true

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_jyp80"]
length = 21.0
slide_on_slope = true

[sub_resource type="SeparationRayShape2D" id="SeparationRayShape2D_11nmq"]
length = 17.0
slide_on_slope = true

[sub_resource type="Animation" id="Animation_671fn"]
resource_name = "crouch"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"crouch"]
}

[sub_resource type="Animation" id="Animation_t2rm3"]
resource_name = "crouch_walk"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"crouch_walk"]
}

[sub_resource type="Animation" id="Animation_yhida"]
resource_name = "drop"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"drop"]
}

[sub_resource type="Animation" id="Animation_hn1ve"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"idle"]
}

[sub_resource type="Animation" id="Animation_iofpx"]
resource_name = "jump"
length = 0.034
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"jump"]
}

[sub_resource type="Animation" id="Animation_ddy0t"]
resource_name = "slide"
length = 0.34
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"slide"]
}

[sub_resource type="Animation" id="Animation_hpueq"]
resource_name = "slide_start"
length = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(4.31581e-05),
"update": 0,
"values": [&"slide_start"]
}

[sub_resource type="Animation" id="Animation_ijgip"]
resource_name = "walking"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"walking"]
}

[sub_resource type="Animation" id="Animation_qd6sc"]
resource_name = "wall_hang"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlayerSprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1e-05),
"update": 0,
"values": [&"grab_wall"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gf5mm"]
_data = {
"crouch": SubResource("Animation_671fn"),
"crouch_walk": SubResource("Animation_t2rm3"),
"drop": SubResource("Animation_yhida"),
"idle": SubResource("Animation_hn1ve"),
"jump": SubResource("Animation_iofpx"),
"slide": SubResource("Animation_ddy0t"),
"slide_start": SubResource("Animation_hpueq"),
"walking": SubResource("Animation_ijgip"),
"wall_hang": SubResource("Animation_qd6sc")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qk748"]
size = Vector2(15, 15)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jvqjl"]
size = Vector2(7, 10)

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_4wwkc")

[node name="PlayerSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(2, -23)
sprite_frames = ExtResource("1_nhrqf")
animation = &"grab_wall"

[node name="right_force" type="CollisionShape2D" parent="."]
position = Vector2(-3, 0)
rotation = -1.5708
shape = SubResource("SeparationRayShape2D_4vles")

[node name="left_force" type="CollisionShape2D" parent="."]
position = Vector2(-3, 0)
rotation = 1.5708
shape = SubResource("SeparationRayShape2D_7fufo")

[node name="head_force" type="CollisionShape2D" parent="."]
position = Vector2(-3, 0)
rotation = 3.14159
shape = SubResource("SeparationRayShape2D_jyp80")

[node name="foot_force" type="CollisionShape2D" parent="."]
position = Vector2(-3, 0)
shape = SubResource("SeparationRayShape2D_11nmq")

[node name="PlayerCamera" type="Camera2D" parent="."]
position = Vector2(-1, 0)
zoom = Vector2(2.5, 2.5)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
callback_mode_method = 1
libraries = {
"": SubResource("AnimationLibrary_gf5mm")
}

[node name="poutre" type="StaticBody2D" parent="."]
collision_layer = 0
script = ExtResource("7_huw4r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="poutre"]
position = Vector2(-3, -13)
shape = SubResource("RectangleShape2D_qk748")
debug_color = Color(0.713429, 0.482696, 0.0873926, 0.42)

[node name="wallgrab_hitbox_r" type="StaticBody2D" parent="."]
collision_layer = 0
script = ExtResource("7_huw4r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="wallgrab_hitbox_r"]
position = Vector2(8, -15.5)
shape = SubResource("RectangleShape2D_jvqjl")
debug_color = Color(0.984459, 0, 0.34336, 0.42)

[node name="wallgrab_hitbox_l" type="StaticBody2D" parent="."]
collision_layer = 0
script = ExtResource("7_huw4r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="wallgrab_hitbox_l"]
position = Vector2(-14, -15.5)
shape = SubResource("RectangleShape2D_jvqjl")
debug_color = Color(0.984459, 0, 0.34336, 0.42)
